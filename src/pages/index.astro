---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Hero from '../components/Hero.astro';
import Features from '../components/Features.astro';
import Apartments from '../components/Apartments.astro';
import Testimonials from '../components/Testimonials.astro';
import Footer from '../components/Footer.astro';
import BookingModal from '../components/BookingModal.astro';
import AuthModal from '../components/AuthModal.astro';
import ProfileModal from '../components/ProfileModal.astro';
import PasswordModal from '../components/PasswordModal.astro';
---

<Layout 
  title="Apartments Delfin - Luxury Ocean View Vacation Rentals" 
  description="Experience luxury oceanfront living at Apartments Delfin. Premium vacation rentals with breathtaking ocean views, modern amenities, and world-class service. Book your perfect getaway today."
  keywords="luxury apartments, ocean view, vacation rental, beachfront, Delfin apartments, premium accommodation"
>
  <Header />
  <main>
    <Hero />
    <Features />
    <Apartments />
    <Testimonials />
  </main>
  <Footer />
  <BookingModal />
  <AuthModal />
  <ProfileModal />
  <PasswordModal />
</Layout>

<script>
  import { t } from '../lib/i18n';

  // Update page title and meta description based on language
  function updatePageMeta() {
    document.title = `${t('heroTitle')} - Apartments Delfin`;
    
    const metaDescription = document.querySelector('meta[name="description"]');
    if (metaDescription) {
      metaDescription.content = t('heroSubtitle');
    }
  }

  document.addEventListener('DOMContentLoaded', () => {
    updatePageMeta();
    
    // Listen for language changes
    window.addEventListener('languageChanged', () => {
      updatePageMeta();
    });
  });
</script>